@inherits StartupSyncDialogBase

<MudDialog>
    <DialogContent>
        <MudText Typo=@Typo.body1>@ProgressMessage</MudText>
        <MudProgressLinear Indeterminate="@(SyncState == SyncState.Running || SyncState == SyncState.Cancelling)" Value="@(SyncState == SyncState.Completed ? 100 : 0)" Color="@Color.Primary" />

        @foreach (var source in SyncSources)
        {
            <MudText Typo=@Typo.h5>@source.Source</MudText>
            <MudText Typo=@Typo.body1>@source.ProgressMessage</MudText>
            <MudProgressLinear Indeterminate="@(source.SyncState == SyncState.Running || source.SyncState == SyncState.Cancelling)" Value="@(source.SyncState == SyncState.Completed ? 100 : 0)" Color="@Color.Default" />
        }

    </DialogContent>
    <DialogActions>
        <MudButton Disabled="@(SyncState != SyncState.Cancelled)" Color="@Color.Primary" OnClick="@StartSync">Sync</MudButton>
        <MudButton Disabled="@(SyncState != SyncState.Running)" Color="@Color.Error" OnClick="@OnCancel">Cancel</MudButton>
        <MudButton Disabled="@(SyncState == SyncState.Running || SyncState == SyncState.Cancelling)" Color="@Color.Success" OnClick="@OnClose">Close</MudButton>
    </DialogActions>
</MudDialog>