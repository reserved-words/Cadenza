@inherits AlbumViewBase

@if (Model != null)
{
    <ItemCard Type="@PlayerItemType.Album" Heading="@Model.Title" Tags="@Model.Tags" Toolbar="@Toolbar">
        <ChildContent>
            <AlbumArtworkView Model="@Model" />
            <ArtistLink Typo="Typo.body1" Id="@Model.ArtistId" Name="@Model.ArtistName" />
            <MudText Typo="Typo.body2">@Model.ReleaseType.GetDisplayName()</MudText>
            <MudText Typo="Typo.body2">@Model.Year</MudText>
            <MudText Typo="Typo.body2">@TotalDuration.AlbumDuration()</MudText>

            @if (DiscDurations.Count > 1)
            {
                <AlbumDiscDurations DiscDurations="@DiscDurations" />
            }

        </ChildContent>
    </ItemCard>
}

@code {
    [Parameter] public Dictionary<int, int> DiscDurations { get; set; }
    [Parameter] public RenderFragment Toolbar { get; set; }

    protected int TotalDuration => DiscDurations.Sum(d => d.Value);
}