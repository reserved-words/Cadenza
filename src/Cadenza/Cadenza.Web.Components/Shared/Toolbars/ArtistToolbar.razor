@using Cadenza.Web.Components.Interfaces;
@using IDialogService = Cadenza.Web.Components.Interfaces.IDialogService

<MudPaper Elevation="0" Class="flex-grow-0 pa-0 ma-0" Outlined="false">
    <MudButtonGroup >
        <MudIconButton Icon="@Icons.Material.Filled.PlayArrow" Size="@Size.Medium" OnClick="OnPlay" />
        <MudHidden Breakpoint="@Breakpoint.MdAndUp" Invert="true">
            <MudIconButton Icon="@Icons.Material.Filled.Edit" Size="@Size.Medium" OnClick="OnEdit" />
        </MudHidden>
    </MudButtonGroup>
</MudPaper>

@code {
    [Inject] public IDialogService DialogService { get; set; }
    [Inject] public IDispatcher Dispatcher { get; set; }

    [Parameter] public ArtistDetailsVM Artist { get; set; }

    protected Task OnPlay()
    {
        Dispatcher.Dispatch(new PlayArtistRequest(Artist.Id));
        return Task.CompletedTask;
    }

    protected void OnEdit()
    {
        DialogService.DisplayForm<EditArtist, ArtistDetailsVM>(Artist, "Edit Artist", DialogWidth.Medium);
    }
}
