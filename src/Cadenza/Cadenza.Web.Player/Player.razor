@using Cadenza.Common.Domain.Extensions

@inherits PlayerBase

@*Position relative needed to keep overlay inside card*@

<MudCard Elevation="3" Class="pa-0 ma-0 mb-3" Style="position: relative;">
    <MudOverlay Visible="@Loading" LightBackground="true" Absolute="true">
        <MudProgressCircular Color="Color.Primary" Indeterminate="true" />
    </MudOverlay>
    <MudOverlay Visible="@Empty" LightBackground="true" Absolute="true">
    </MudOverlay>
    <MudCardHeader Class="pa-2">
        <CardHeaderContent>
            <CurrentTrack Model="@Model?.Track" />
        </CardHeaderContent>
        <CardHeaderActions>
            <CurrentTrackFavourite Model="@Model?.Track" />
        </CardHeaderActions>
    </MudCardHeader>
    <CurrentTrackArtwork Model="@Model" />
    <CurrentTrackProgress />
    <MudCardContent Class="pa-2">
        <CurrentTrackAlbum Model="@Model?.Album" />
    </MudCardContent>

</MudCard>

<PlayerControls IsLastTrack="@IsLastTrack"
                IsTrackPopulated="@(Track != null)"
                OnPause="@Pause"
                OnResume="@Resume" />