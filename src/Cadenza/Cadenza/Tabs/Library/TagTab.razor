@inherits TagTabBase

<TabGrid>

    <TabGridColumn md="3">
        <TabGridRow RowHeight="@RowHeight.Fixed">

            <ItemCard Type="@PlayerItemType.Tag" Heading="@Id" Tags="@null">
                <ChildContent>
                    <MudSelect Label="Filter by type"
                               @bind-Value="FilterType"
                               For="@(() => FilterType)"
                               T="@string">
                        @foreach (var type in FilterTypes.Keys)
                        {
                            <MudSelectItem Value="@type">@type</MudSelectItem>
                        }
                    </MudSelect>
                </ChildContent>
                <Toolbar>
                    <TagToolbar Tag="@Id" />
                </Toolbar>
            </ItemCard>

        </TabGridRow>

    </TabGridColumn>

    <TabGridColumn md="9">
        <TabGridRow RowHeight="@RowHeight.Full">
            <AppCardScrollContainer>
                <ChildContent>
                    <AppTable T="@PlayerItem"
                              Items="@Items"
                              Filter="@OnFilter">
                        <RowTemplate>
                            <MudTd Class="td-icon">
                                <MudIcon Icon="@context.Type.GetIcon()" Size="@Size.Small" />
                            </MudTd>

                            <MudHidden Breakpoint="Breakpoint.Xs" Invert="true">
                                <MudTd>
                                    <ActionLink Typo="@Typo.body1" Text="@context.Name" OnClick="@(() => OnViewItem(context))"></ActionLink>
                                    <MudText Typo="Typo.body2">@context.Artist</MudText>
                                    <MudText Typo="Typo.body2">@context.AlbumDisplay</MudText>
                                </MudTd>
                            </MudHidden>

                            <MudHidden Breakpoint="Breakpoint.Sm" Invert="true">
                                <MudTd>
                                    <ActionLink Typo="@Typo.body1" Text="@context.Name" OnClick="@(() => OnViewItem(context))"></ActionLink>
                                    
                                    @if (context.Type == PlayerItemType.Track)
                                    {
                                        <MudText Typo="Typo.body2">@context.Artist</MudText>
                                    }

                                </MudTd>
                                <MudTd>

                                    @if (context.Type != PlayerItemType.Track)
                                    {
                                        <MudText Typo="Typo.body1">@context.Artist</MudText>
                                    }

                                    <MudText Typo="Typo.body1">@context.AlbumDisplay</MudText>
                                </MudTd>
                            </MudHidden>

                            <MudHidden Breakpoint="Breakpoint.MdAndUp" Invert="true">
                                <MudTd>
                                    <ActionLink Typo="@Typo.body1" Text="@context.Name" OnClick="@(() => OnViewItem(context))"></ActionLink>
                                </MudTd>
                                <MudTd>
                                    <MudText Typo="Typo.body2">@context.Artist</MudText>
                                </MudTd>
                                <MudTd>
                                    <MudText Typo="Typo.body2">@context.AlbumDisplay</MudText>
                                </MudTd>
                            </MudHidden>

                        </RowTemplate>
                    </AppTable>
                </ChildContent>
            </AppCardScrollContainer>
        </TabGridRow>
    </TabGridColumn>

</TabGrid>