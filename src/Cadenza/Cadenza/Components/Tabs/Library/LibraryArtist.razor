@inherits LibraryArtistBase

<MudCard Elevation="2"
         Class="fixed-height-margin"
         Style="display: flex; flex-direction: column;">

    <MudCardHeader Style="flex-grow: 0;" Class="pb-0 pt-3">
        <CardHeaderContent>
            @if (Model == null)
            {
                <MudText Typo="Typo.h6">@PlaceholderText</MudText>
            }
            else
            {
                <ArtistView Model="@Model"
                            HeaderOnly="true" />
            }
            <MudDivider Class="mt-3" />
        </CardHeaderContent>
    </MudCardHeader>

    <MudCardContent Style="flex-grow: 1;" 
                    Class="fixed-height-scroll">
        @if (Model != null)
        {
            if (Model.Releases.Count == 1)
            {
                <WhipCard Padding="false"
                          Bordered="false">
                    <MudGrid Spacing="2">
                        @foreach (var album in Model.Releases.Single().Value)
                        {
                            <MudItem xs="6" sm="3">
                                <LibraryAlbum Model="@album" />
                            </MudItem>
                        }
                    </MudGrid>
                </WhipCard>
            }
            else
            {
                <MudTabs>
                    @foreach (var group in Model.Releases)
                    {
                        <MudTabPanel Text="@group.Key.GetDisplayName()">
                            <WhipCard Padding="false"
                                      Bordered="false">
                                <MudGrid Spacing="2">
                                    @foreach (var album in group.Value)
                                    {
                                        <MudItem xs="6" sm="3">
                                            <LibraryAlbum Model="@album"
                                                          OnPlayAlbum="(a) => OnPlayAlbum(a)" />
                                        </MudItem>
                                    }
                                </MudGrid>
                            </WhipCard>
                        </MudTabPanel>
                    }
                </MudTabs>
            }
        }
    </MudCardContent>
</MudCard>