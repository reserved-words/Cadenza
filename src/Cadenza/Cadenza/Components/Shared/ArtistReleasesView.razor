@using Cadenza.Core.Model

@if (Model != null)
{
    if (Model.Count == 1)
    {
        <WhipCard Padding="false"
          Bordered="false">
            <MudGrid Spacing="2">
                @foreach (var album in Model.Single().Albums)
                {
                    <MudItem xs="6" sm="3">
                        <AlbumView Model="@album" />
                    </MudItem>
                }
            </MudGrid>
        </WhipCard>
    }
    else
    {
        <MudTabs>
            @foreach (var release in Model)
            {
                <MudTabPanel Text="@release.Group.GetDisplayName()">
                    <WhipCard Padding="false"
                  Bordered="false">
                        <MudGrid Spacing="2">
                            @foreach (var album in release.Albums)
                            {
                                <MudItem xs="6" sm="3">
                                    <AlbumView Model="@album" />
                                </MudItem>
                            }
                        </MudGrid>
                    </WhipCard>
                </MudTabPanel>
            }
        </MudTabs>
    }
}

@code 
{
    [Parameter]
    public List<ArtistReleaseGroup> Model { get; set; } = new();
}