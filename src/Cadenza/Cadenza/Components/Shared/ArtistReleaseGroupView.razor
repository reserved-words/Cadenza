@using Cadenza.Core.Model

@if (Model != null)
{
    <MudTabPanel Text="@Model.Group.GetDisplayName()">
        <MudCard Class="fixed-height-margin pa-0"
             Elevation="0">
            <MudCardContent Class="fixed-height-scroll pa-2">
                <MudGrid Spacing="2">
                    @foreach (var album in Model.Albums)
                    {
                        <MudItem xs="6" sm="3">
                            <MudCard Elevation="1"
                             Class="pa-0 ma-0">
                                <AlbumArtworkView Model="@album"
                                          OnPlay="@OnPlay" />
                                <MudCardContent Class="pa-2">
                                    <AlbumSummaryView Model="@album"
                                              OnPlay="@OnPlay" />
                                </MudCardContent>
                            </MudCard>

                        </MudItem>
                    }
                </MudGrid>
            </MudCardContent>
        </MudCard>
    </MudTabPanel>
}

@code {
    [Parameter]
    public ArtistReleaseGroup Model { get; set; }

    [Parameter]
    public Func<Album, Task> OnPlay { get; set; }
}