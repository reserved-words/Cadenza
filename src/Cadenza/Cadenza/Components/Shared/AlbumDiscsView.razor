@using Cadenza.Core.Model

@if (Model != null)
{
    if (Model.Count == 1)
    {
        <WhipCard Padding="false"
          Bordered="false">
            <WhipTable T="@AlbumTrack"
               Items="@Model.Single().Tracks">
                <RowTemplate>
                    <MudTd>@context.Position.TrackNo</MudTd>
                    <MudTd>@context.Title</MudTd>
                    <MudTd>@context.DurationSeconds</MudTd>
                </RowTemplate>
            </WhipTable>
        </WhipCard>
    }
    else
    {
        <MudTabs>
            @foreach (var disc in Model)
            {
                <MudTabPanel Text="@("Disc " + disc.DiscNo)">
                    <WhipCard Padding="false"
                              Bordered="false">
                        <WhipTable T="@AlbumTrack"
                       Items="@Model.Single().Tracks">
                            <RowTemplate>
                                <MudTd>@context.Position.TrackNo</MudTd>
                                <MudTd>@context.Title</MudTd>
                                <MudTd>@context.DurationSeconds</MudTd>
                            </RowTemplate>
                        </WhipTable>

                    </WhipCard>
                </MudTabPanel>
            }
        </MudTabs>
    }
}

@code
{
    [Parameter]
    public List<Disc> Model { get; set; } = new();
}