@page "/"
@page "/player"
@inherits IndexBase


@if (!IsSpotifyLoaded)
{
    <SpotifyConnect />
}
else if (!IsLastFmLoaded)
{
    <LastFmConnect />
}
else {
    <MudLayout>
    <MudDrawer Open="true" ClipMode="DrawerClipMode.Always" Elevation="2">
        <Sidebar />
    </MudDrawer>
    <MudMainContent>
        @if (IsAllLoaded)
        {
            <MudTabs Outlined="true" KeepPanelsAlive="true">
                <MudTabPanel Text="History" Icon="@Icons.Material.Filled.History">
                    <HistoryTab />
                </MudTabPanel>
                <MudTabPanel Text="Currently Playing" Icon="@Icons.Material.Filled.MusicNote">
                    <CurrentlyPlayingTab />
                </MudTabPanel>
                <MudTabPanel Text="Library" Icon="@Icons.Material.Filled.LibraryBooks">
                    <LibraryTab />
                </MudTabPanel>
                <MudTabPanel Text="System" Icon="@Icons.Material.Filled.Info">
                    <SystemInfoTab />
                </MudTabPanel>
            </MudTabs>
        }
    </MudMainContent>
</MudLayout>
}
